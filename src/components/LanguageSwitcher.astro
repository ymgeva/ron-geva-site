---
import { getLangFromUrl, languages } from '../utils/i18n';

const lang = getLangFromUrl(Astro.url);
const currentPath = Astro.url.pathname.replace(`/${lang}`, '');
---

<div class="flex gap-2">
  {Object.entries(languages).map(([code, label]) => (
    <a
      href={`/${code}${currentPath}`}
      class:list={[
        'px-3 py-1 rounded transition',
        lang === code
          ? 'bg-gray-900 text-white'
          : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
      ]}
    >
      {label}
    </a>
  ))}
</div>
