---
import { getLangFromUrl } from '../utils/i18n';

const lang = getLangFromUrl(Astro.url);
const currentPath = Astro.url.pathname.replace(`/${lang}`, '');

const languageLabels: Record<string, string> = {
  'en': 'En',
  'he': 'He'
};
---

<div class="flex gap-1">
  {Object.keys(languageLabels).map((code) => (
    <a
      href={`/${code}${currentPath}`}
      class="transition"
      style={`
        padding: 2px 8px;
        background-color: ${lang === code ? '#FFF8F1' : '#D2CEC5'};
        color: ${lang === code ? '#000' : '#333'};
        text-decoration: none;
        font-size: 14px;
      `}
    >
      {languageLabels[code]}
    </a>
  ))}
</div>

<style>
  div a:hover {
    background-color: #5B4D43 !important;
    color: white !important;
  }
</style>
