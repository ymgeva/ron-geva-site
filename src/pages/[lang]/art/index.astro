---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import { useTranslatedPath } from '../../../utils/i18n';

export async function getStaticPaths() {
  return [{ params: { lang: 'en' } }, { params: { lang: 'he' } }];
}

const { lang } = Astro.params;
const translatePath = useTranslatedPath(lang as any);

const categories = {
  he: [
    {
      slug: 'color',
      title: 'צבע',
      image: '/images/art-color-2.jpg',
      count: 66,
    },
    {
      slug: 'bw',
      title: 'שחור לבן',
      image: '/images/art-bw-2.jpg',
      count: 61,
    },
    {
      slug: 'sculptures',
      title: 'פסלים',
      image: '/images/art-sculptures-2.jpg',
      count: 50,
    },
    {
      slug: 'portraits',
      title: 'דיוקנאות בהזמנה',
      image: '/images/art-portraits-2.jpg',
      count: 40,
    },
    {
      slug: 'postcards',
      title: 'גלויות ועוד',
      image: '/images/art-postcards-2.jpg',
      count: 13,
    },
    {
      slug: 'alligators',
      title: 'תנינים',
      image: '/images/alligators-1.jpg',
      count: 10,
    },
  ],
  en: [
    {
      slug: 'color',
      title: 'Color',
      image: '/images/art-color-2.jpg',
      count: 66,
    },
    {
      slug: 'bw',
      title: 'Black & White',
      image: '/images/art-bw-2.jpg',
      count: 61,
    },
    {
      slug: 'sculptures',
      title: 'Sculptures',
      image: '/images/art-sculptures-2.jpg',
      count: 50,
    },
    {
      slug: 'portraits',
      title: 'Commissioned Portraits',
      image: '/images/art-portraits-2.jpg',
      count: 40,
    },
    {
      slug: 'postcards',
      title: 'Postcards & More',
      image: '/images/art-postcards-2.jpg',
      count: 13,
    },
    {
      slug: 'alligators',
      title: 'Alligators',
      image: '/images/alligators-1.jpg',
      count: 10,
    },
  ],
};

const pageTitle = lang === 'he' ? 'אומנות' : 'Art';
const currentCategories = categories[lang as keyof typeof categories] || categories.en;
---

<BaseLayout title={pageTitle}>
  <div class="container mx-auto px-4 py-12">
    <h1 class="text-4xl mb-12 text-center">{pageTitle}</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-6xl mx-auto">
      {currentCategories.map((category) => (
        <a
          href={translatePath(`/art/${category.slug}`)}
          class="group relative overflow-hidden rounded-lg shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105"
        >
          <div class="aspect-[16/9]">
            <img
              src={category.image}
              alt={category.title}
              class="w-full h-full object-cover"
            />
            <div class="absolute top-0 {lang === 'he' ? 'right-0' : 'left-0'} text-white px-6" style="background-color: rgba(128, 126, 125, 0.8); height: 33pt; display: flex; align-items: center;">
              <span style={`font-size: 18pt; font-family: ${lang === 'he' ? 'Alef' : 'Source Sans 3'}, sans-serif;`}>{category.title}</span>
            </div>
          </div>
        </a>
      ))}
    </div>
  </div>
</BaseLayout>
