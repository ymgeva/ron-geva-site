# Use local_backend for local development
local_backend: true

backend:
  name: git-gateway
  branch: main

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

# Media library configuration for organized uploads
media_library:
  name: uploadcare
  config:
    publicKey: "demopublickey"

locale: he
i18n:
  structure: multiple_folders
  locales: [en, he]
  default_locale: en

collections:
  # Blog Collection - Hebrew
  - name: "blog-he"
    label: "בלוג עברית / Hebrew Blog"
    folder: "src/content/blog/he"
    create: true
    slug: "{{slug}}"
    identifier_field: title
    fields:
      - { label: "כותרת / Title", name: "title", widget: "string" }
      - {
          label: "תאריך פרסום / Publish Date",
          name: "pubDate",
          widget: "datetime",
        }
      - {
          label: "תיאור / Description",
          name: "description",
          widget: "text",
          required: false,
        }
      - {
          label: "תמונה ראשית / Featured Image",
          name: "featuredImage",
          widget: "image",
          required: false,
        }
      - {
          label: "מחבר / Author",
          name: "author",
          widget: "string",
          default: "Ron Geva",
        }
      - {
          label: "זמן קריאה / Reading Time",
          name: "readingTime",
          widget: "string",
          required: false,
        }
      - {
          label: "צפיות / Views",
          name: "views",
          widget: "number",
          default: 0,
          required: false,
        }
      - {
          label: "תגובות / Comments",
          name: "comments",
          widget: "number",
          default: 0,
          required: false,
        }
      - {
          label: "לייקים / Likes",
          name: "likes",
          widget: "number",
          default: 0,
          required: false,
        }
      - {
          label: "פריסת תמונות / Image Layout",
          name: "imageLayout",
          widget: "select",
          required: false,
          options: ["2-col", "3-col"],
          default: "3-col",
        }
      - {
          label: "טיוטה / Draft",
          name: "draft",
          widget: "boolean",
          default: false,
        }
      - { 
          label: "תוכן / Body", 
          name: "body", 
          widget: "markdown"
        }

  # Blog Collection - English (Translations)
  - name: "blog-en"
    label: "Blog English / תרגומים לאנגלית"
    folder: "src/content/blog/en"
    create: true
    slug: "{{slug}}"
    identifier_field: title
    fields:
      - { label: "כותרת / Title", name: "title", widget: "string" }
      - {
          label: "תאריך פרסום / Publish Date",
          name: "pubDate",
          widget: "datetime",
        }
      - {
          label: "תיאור / Description",
          name: "description",
          widget: "text",
          required: false,
        }
      - {
          label: "תמונה ראשית / Featured Image",
          name: "featuredImage",
          widget: "image",
          required: false,
        }
      - {
          label: "מחבר / Author",
          name: "author",
          widget: "string",
          default: "Ron Geva",
        }
      - {
          label: "זמן קריאה / Reading Time",
          name: "readingTime",
          widget: "string",
          required: false,
        }
      - {
          label: "צפיות / Views",
          name: "views",
          widget: "number",
          default: 0,
          required: false,
        }
      - {
          label: "תגובות / Comments",
          name: "comments",
          widget: "number",
          default: 0,
          required: false,
        }
      - {
          label: "לייקים / Likes",
          name: "likes",
          widget: "number",
          default: 0,
          required: false,
        }
      - {
          label: "פריסת תמונות / Image Layout",
          name: "imageLayout",
          widget: "select",
          required: false,
          options: ["2-col", "3-col"],
          default: "3-col",
        }
      - {
          label: "טיוטה / Draft",
          name: "draft",
          widget: "boolean",
          default: false,
        }
      - { 
          label: "תוכן / Body", 
          name: "body", 
          widget: "markdown"
        }

  # Pages Collection
  - name: "pages"
    label: "עמודים / Pages"
    folder: "src/content/pages"
    create: true
    i18n: true
    slug: "{{slug}}"
    fields:
      - { label: "כותרת / Title", name: "title", widget: "string", i18n: true }
      - {
          label: "תיאור / Description",
          name: "description",
          widget: "text",
          required: false,
          i18n: true,
        }
      - {
          label: "תמונה ראשית / Featured Image",
          name: "featuredImage",
          widget: "image",
          required: false,
          i18n: duplicate,
        }
      - { label: "תוכן / Body", name: "body", widget: "markdown", i18n: true }

  # Book Page (Special Collection)
  - name: "book-content"
    label: "תוכן עמוד הספר / Book Page Content"
    folder: "src/content/pages"
    create: false
    i18n: true
    filter: { field: "slug", value: "book" }
    fields:
      - { label: "כותרת / Title", name: "title", widget: "string", i18n: true }
      - {
          label: "כותרת משנה / Subtitle",
          name: "subtitle",
          widget: "string",
          required: false,
          i18n: true,
        }
      - { label: "תמונת הספר / Book Cover", name: "featuredImage", widget: "image", i18n: duplicate }
      - {
          label: "תיאור / Description",
          name: "description",
          widget: "text",
          i18n: true,
        }
      - {
          label: "מספר עמודים / Page Count",
          name: "pageCount",
          widget: "number",
          required: false,
          i18n: duplicate,
        }
      - {
          label: "הוצאה לאור / Publisher",
          name: "publisher",
          widget: "string",
          required: false,
          i18n: true,
        }
      - {
          label: "קישור לרכישה (דיגיטלי) / Digital Purchase Link",
          name: "purchaseLinkDigital",
          widget: "string",
          required: false,
          i18n: duplicate,
        }
      - {
          label: "קישור לרכישה (מודפס) / Print Purchase Link",
          name: "purchaseLinkPrint",
          widget: "string",
          required: false,
          i18n: duplicate,
        }
      - {
          label: "קטעי אודיו / Audio Clips",
          name: "audioClips",
          widget: "list",
          required: false,
          i18n: true,
          fields:
            [
              { label: "כותרת / Title", name: "title", widget: "string" },
              { label: "קישור / URL", name: "url", widget: "string" },
            ],
        }
      - {
          label: "ביקורות / Reviews",
          name: "reviews",
          widget: "list",
          required: false,
          i18n: true,
          fields:
            [
              { label: "ציטוט / Quote", name: "quote", widget: "text" },
              { label: "מחבר / Author", name: "author", widget: "string" },
              {
                label: "מקור / Source",
                name: "source",
                widget: "string",
                required: false,
              },
            ],
        }
      - { label: "תוכן מלא / Full Content", name: "body", widget: "markdown", i18n: true }

